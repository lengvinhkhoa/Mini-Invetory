(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25652,e=>{"use strict";e.s(["TrendingUp",()=>a],25652);let a=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},55436,e=>{"use strict";e.s(["Search",()=>a],55436);let a=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},17923,e=>{"use strict";e.s(["BarChart3",()=>a],17923);let a=(0,e.i(75254).default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},61911,e=>{"use strict";e.s(["Users",()=>a],61911);let a=(0,e.i(75254).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},33785,e=>{"use strict";e.s(["Warehouse",()=>a],33785);let a=(0,e.i(75254).default)("warehouse",[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]])},72436,e=>{"use strict";e.s(["Separator",()=>d],72436);var a=e.i(43476),t=e.i(71645),s=e.i(48425),r="horizontal",n=["horizontal","vertical"],i=t.forwardRef((e,t)=>{var i;let{decorative:l,orientation:d=r,...c}=e,o=(i=d,n.includes(i))?d:r;return(0,a.jsx)(s.Primitive.div,{"data-orientation":o,...l?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...c,ref:t})});i.displayName="Separator";var l=e.i(75157);function d(e){let{className:t,orientation:s="horizontal",decorative:r=!0,...n}=e;return(0,a.jsx)(i,{"data-slot":"separator",decorative:r,orientation:s,className:(0,l.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...n})}},1928,e=>{"use strict";e.s(["ShoppingCart",()=>a],1928);let a=(0,e.i(75254).default)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},55838,(e,a,t)=>{"use strict";var s=e.r(71645),r="function"==typeof Object.is?Object.is:function(e,a){return e===a&&(0!==e||1/e==1/a)||e!=e&&a!=a},n=s.useState,i=s.useEffect,l=s.useLayoutEffect,d=s.useDebugValue;function c(e){var a=e.getSnapshot;e=e.value;try{var t=a();return!r(e,t)}catch(e){return!0}}var o="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,a){return a()}:function(e,a){var t=a(),s=n({inst:{value:t,getSnapshot:a}}),r=s[0].inst,o=s[1];return l(function(){r.value=t,r.getSnapshot=a,c(r)&&o({inst:r})},[e,t,a]),i(function(){return c(r)&&o({inst:r}),e(function(){c(r)&&o({inst:r})})},[e]),d(t),t};t.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:o},2239,(e,a,t)=>{"use strict";a.exports=e.r(55838)},39126,e=>{"use strict";e.s(["default",()=>es],39126);var a=e.i(43476),t=e.i(71645),s=e.i(18566),r=e.i(57951),n=e.i(75157),i=e.i(19455),l=e.i(30030),d=e.i(30207),c=e.i(34620),o=e.i(48425),h=e.i(2239);function u(){return()=>{}}var m="Avatar",[x,f]=(0,l.createContextScope)(m),[p,g]=x(m),y=t.forwardRef((e,s)=>{let{__scopeAvatar:r,...n}=e,[i,l]=t.useState("idle");return(0,a.jsx)(p,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:l,children:(0,a.jsx)(o.Primitive.span,{...n,ref:s})})});y.displayName=m;var v="AvatarImage",j=t.forwardRef((e,s)=>{let{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...l}=e,m=g(v,r),x=function(e,a){let{referrerPolicy:s,crossOrigin:r}=a,n=(0,h.useSyncExternalStore)(u,()=>!0,()=>!1),i=t.useRef(null),l=n?(i.current||(i.current=new window.Image),i.current):null,[d,o]=t.useState(()=>k(l,e));return(0,c.useLayoutEffect)(()=>{o(k(l,e))},[l,e]),(0,c.useLayoutEffect)(()=>{let e=e=>()=>{o(e)};if(!l)return;let a=e("loaded"),t=e("error");return l.addEventListener("load",a),l.addEventListener("error",t),s&&(l.referrerPolicy=s),"string"==typeof r&&(l.crossOrigin=r),()=>{l.removeEventListener("load",a),l.removeEventListener("error",t)}},[l,r,s]),d}(n,l),f=(0,d.useCallbackRef)(e=>{i(e),m.onImageLoadingStatusChange(e)});return(0,c.useLayoutEffect)(()=>{"idle"!==x&&f(x)},[x,f]),"loaded"===x?(0,a.jsx)(o.Primitive.img,{...l,ref:s,src:n}):null});j.displayName=v;var N="AvatarFallback",w=t.forwardRef((e,s)=>{let{__scopeAvatar:r,delayMs:n,...i}=e,l=g(N,r),[d,c]=t.useState(void 0===n);return t.useEffect(()=>{if(void 0!==n){let e=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(e)}},[n]),d&&"loaded"!==l.imageLoadingStatus?(0,a.jsx)(o.Primitive.span,{...i,ref:s}):null});function k(e,a){return e?a?(e.src!==a&&(e.src=a),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function b(e){let{className:t,...s}=e;return(0,a.jsx)(y,{"data-slot":"avatar",className:(0,n.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...s})}function M(e){let{className:t,...s}=e;return(0,a.jsx)(j,{"data-slot":"avatar-image",className:(0,n.cn)("aspect-square size-full",t),...s})}function S(e){let{className:t,...s}=e;return(0,a.jsx)(w,{"data-slot":"avatar-fallback",className:(0,n.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...s})}w.displayName=N;var C=e.i(87486),z=e.i(72436),L=e.i(33277),E=e.i(46696),B=e.i(75254);let A=(0,B.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var H=e.i(88844),R=e.i(33785),T=e.i(25652);let U=(0,B.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),I=(0,B.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),D=(0,B.default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);var O=e.i(41947),O=O,P=e.i(61911);let V=(0,B.default)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var q=e.i(17923),Q=e.i(1928);let F=[{name:"Tổng quan",href:"/dashboard",icon:A},{name:"Kho hàng",href:"/dashboard/warehouses",icon:R.Warehouse},{name:"Hàng hóa",href:"/dashboard/inventory",icon:H.Package},{name:"Đơn hàng",href:"/dashboard/orders",icon:Q.ShoppingCart},{name:"Báo cáo",href:"/dashboard/reports",icon:q.BarChart3},{name:"Giao dịch",href:"/dashboard/transactions",icon:T.TrendingUp}],K=[{name:"Người dùng",href:"/dashboard/users",icon:P.Users},{name:"Nhật ký",href:"/dashboard/logs",icon:V}];function W(e){var t;let{isOpen:l,onToggle:d}=e,c=(0,s.usePathname)(),o=(0,s.useRouter)(),{user:h,signOut:u}=(0,r.useAuth)(),{userProfile:m}=(0,L.useUser)(),x=async()=>{try{await u(),E.toast.success("Đăng xuất thành công!"),o.push("/auth")}catch(e){E.toast.error("Lỗi khi đăng xuất")}},f=(null==m?void 0:m.role)==="admin";return(0,a.jsxs)(a.Fragment,{children:[l&&(0,a.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:d}),(0,a.jsxs)("div",{className:(0,n.cn)("fixed inset-y-0 left-0 z-50 flex w-64 flex-col bg-white border-r border-gray-200 transition-transform duration-300 ease-in-out lg:translate-x-0",l?"translate-x-0":"-translate-x-full lg:w-16"),children:[(0,a.jsxs)("div",{className:"flex h-16 items-center justify-between px-4 border-b",children:[(0,a.jsxs)("div",{className:(0,n.cn)("flex items-center",!l&&"lg:justify-center"),children:[(0,a.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:(0,a.jsx)(H.Package,{className:"h-4 w-4"})}),(0,a.jsx)("span",{className:(0,n.cn)("ml-2 text-lg font-semibold",!l&&"hidden lg:hidden"),children:"Inventory"})]}),(0,a.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:d,className:"lg:hidden",children:(0,a.jsx)(O.default,{className:"h-4 w-4"})})]}),m&&(0,a.jsx)("div",{className:"p-4 border-b",children:(0,a.jsxs)("div",{className:(0,n.cn)("flex items-center",!l&&"lg:justify-center"),children:[(0,a.jsxs)(b,{className:"h-10 w-10",children:[(0,a.jsx)(M,{src:(null==h?void 0:h.photoURL)||"",alt:m.displayName}),(0,a.jsx)(S,{children:m.displayName.charAt(0).toUpperCase()})]}),(0,a.jsxs)("div",{className:(0,n.cn)("ml-3 min-w-0 flex-1",!l&&"hidden lg:hidden"),children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:m.displayName}),(0,a.jsx)(C.Badge,{variant:{admin:"destructive",manager:"default",staff:"secondary"}[m.role]||"default",className:"text-xs mt-1",children:{admin:"Quản trị viên",manager:"Quản lý kho",staff:"Nhân viên"}[t=m.role]||t})]})]})}),(0,a.jsxs)("nav",{className:"flex-1 space-y-1 p-2 overflow-y-auto",children:[F.map(e=>{let t=c===e.href;return(0,a.jsxs)(i.Button,{variant:t?"secondary":"ghost",className:(0,n.cn)("w-full justify-start",!l&&"lg:justify-center lg:px-2"),onClick:()=>o.push(e.href),children:[(0,a.jsx)(e.icon,{className:"h-4 w-4 flex-shrink-0"}),(0,a.jsx)("span",{className:(0,n.cn)("ml-3",!l&&"hidden lg:hidden"),children:e.name})]},e.name)}),f&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(z.Separator,{className:"my-4"}),(0,a.jsx)("div",{className:"px-2 py-1",children:(0,a.jsx)("h3",{className:(0,n.cn)("text-xs font-semibold text-gray-500 uppercase tracking-wider",!l&&"hidden lg:hidden"),children:"Quản trị"})}),K.map(e=>{let t=c===e.href;return(0,a.jsxs)(i.Button,{variant:t?"secondary":"ghost",className:(0,n.cn)("w-full justify-start",!l&&"lg:justify-center lg:px-2"),onClick:()=>o.push(e.href),children:[(0,a.jsx)(e.icon,{className:"h-4 w-4 flex-shrink-0"}),(0,a.jsx)("span",{className:(0,n.cn)("ml-3",!l&&"hidden lg:hidden"),children:e.name})]},e.name)})]})]}),(0,a.jsxs)("div",{className:"border-t p-2 space-y-1",children:[(0,a.jsxs)(i.Button,{variant:"ghost",className:(0,n.cn)("w-full justify-start",!l&&"lg:justify-center lg:px-2"),onClick:()=>o.push("/dashboard/settings"),children:[(0,a.jsx)(U,{className:"h-4 w-4 flex-shrink-0"}),(0,a.jsx)("span",{className:(0,n.cn)("ml-3",!l&&"hidden lg:hidden"),children:"Cài đặt"})]}),(0,a.jsxs)(i.Button,{variant:"ghost",className:(0,n.cn)("w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",!l&&"lg:justify-center lg:px-2"),onClick:x,children:[(0,a.jsx)(I,{className:"h-4 w-4 flex-shrink-0"}),(0,a.jsx)("span",{className:(0,n.cn)("ml-3",!l&&"hidden lg:hidden"),children:"Đăng xuất"})]})]})]})]})}var J=e.i(93479),G=e.i(55146),Z=e.i(55436);let X=(0,B.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),Y=(0,B.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),$=(0,B.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var _=e.i(46349),_=_;function ee(e){var t;let{sidebarOpen:n,onSidebarToggle:l,title:d,subtitle:c}=e,{user:o,signOut:h}=(0,r.useAuth)(),{userProfile:u}=(0,L.useUser)(),m=(0,s.useRouter)(),x=async()=>{try{await h(),E.toast.success("Đăng xuất thành công!"),m.push("/auth")}catch(e){E.toast.error("Lỗi khi đăng xuất")}};return(0,a.jsxs)("header",{className:"sticky top-0 z-30 flex h-16 items-center gap-4 border-b bg-white px-4 sm:px-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:l,className:"hidden lg:flex",children:n?(0,a.jsx)($,{className:"h-4 w-4"}):(0,a.jsx)(_.default,{className:"h-4 w-4"})}),(0,a.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:l,className:"lg:hidden",children:(0,a.jsx)(D,{className:"h-5 w-5"})})]}),d&&(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h1",{className:"text-lg font-semibold text-gray-900 truncate",children:d}),c&&(0,a.jsx)("p",{className:"text-sm text-gray-500 truncate",children:c})]}),(0,a.jsx)("div",{className:"hidden md:flex flex-1 max-w-md",children:(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)(Z.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),(0,a.jsx)(J.Input,{placeholder:"Tìm kiếm...",className:"pl-10"})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(i.Button,{variant:"ghost",size:"sm",className:"relative",children:[(0,a.jsx)(X,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"absolute -top-1 -right-1 h-2 w-2 bg-red-500 rounded-full"})]}),u&&(0,a.jsxs)(G.DropdownMenu,{children:[(0,a.jsx)(G.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsx)(i.Button,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:(0,a.jsxs)(b,{className:"h-10 w-10",children:[(0,a.jsx)(M,{src:(null==o?void 0:o.photoURL)||"",alt:u.displayName}),(0,a.jsx)(S,{children:u.displayName.charAt(0).toUpperCase()})]})})}),(0,a.jsxs)(G.DropdownMenuContent,{className:"w-56",align:"end",forceMount:!0,children:[(0,a.jsx)(G.DropdownMenuLabel,{className:"font-normal",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium leading-none",children:u.displayName}),(0,a.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:null==o?void 0:o.email}),(0,a.jsx)(C.Badge,{variant:{admin:"destructive",manager:"default",staff:"secondary"}[u.role]||"default",className:"text-xs w-fit mt-1",children:{admin:"Quản trị viên",manager:"Quản lý kho",staff:"Nhân viên"}[t=u.role]||t})]})}),(0,a.jsx)(G.DropdownMenuSeparator,{}),(0,a.jsxs)(G.DropdownMenuItem,{onClick:()=>m.push("/profile"),children:[(0,a.jsx)(Y,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Hồ sơ"})]}),(0,a.jsxs)(G.DropdownMenuItem,{onClick:()=>m.push("/settings"),children:[(0,a.jsx)(U,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Cài đặt"})]}),(0,a.jsx)(G.DropdownMenuSeparator,{}),(0,a.jsxs)(G.DropdownMenuItem,{onClick:x,className:"text-red-600",children:[(0,a.jsx)(I,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Đăng xuất"})]})]})]})]})]})}var ea=e.i(65033);let et="sidebar-open";function es(e){let{children:i}=e,{user:l,loading:d}=(0,r.useAuth)(),c=(0,s.useRouter)(),{isOpen:o,isLoaded:h,toggle:u}=function(){let[e,a]=(0,t.useState)(!1),[s,r]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{let e=localStorage.getItem(et);null!==e?a(JSON.parse(e)):a(!1),r(!0)},[]),(0,t.useEffect)(()=>{s&&localStorage.setItem(et,JSON.stringify(e))},[e,s]),{isOpen:e,isLoaded:s,toggle:()=>{a(!e)},open:()=>{a(!0)},close:()=>{a(!1)}}}();return((0,t.useEffect)(()=>{d||l||c.push("/auth")},[l,d,c]),d||!h)?(0,a.jsx)(ea.LoadingState,{message:"Đang tải..."}):l?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(W,{isOpen:o,onToggle:u}),(0,a.jsxs)("div",{className:(0,n.cn)("transition-all duration-300 ease-in-out",o?"lg:ml-64":"lg:ml-16"),children:[(0,a.jsx)(ee,{sidebarOpen:o,onSidebarToggle:u}),(0,a.jsx)("main",{className:"p-4 sm:p-6 lg:p-8",children:i})]})]}):null}}]);