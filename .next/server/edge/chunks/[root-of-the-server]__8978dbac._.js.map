{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\n\r\nexport function middleware(request: NextRequest) {\r\n  // Các route cần bảo vệ\r\n  const protectedRoutes = ['/dashboard'];\r\n  const authRoutes = ['/auth'];\r\n  \r\n  const { pathname } = request.nextUrl;\r\n  \r\n  // Kiểm tra xem có token trong cookies không\r\n  const token = request.cookies.get('auth-token')?.value;\r\n  \r\n  // Nếu đang ở trang auth và đã đăng nhập, redirect về dashboard\r\n  if (authRoutes.some(route => pathname.startsWith(route)) && token) {\r\n    return NextResponse.redirect(new URL('/dashboard', request.url));\r\n  }\r\n  \r\n  // Nếu truy cập route được bảo vệ mà chưa đăng nhập\r\n  if (protectedRoutes.some(route => pathname.startsWith(route)) && !token) {\r\n    return NextResponse.redirect(new URL('/auth', request.url));\r\n  }\r\n  \r\n  return NextResponse.next();\r\n}\r\n\r\nexport const config = {\r\n  matcher: [\r\n    /*\r\n     * Match all request paths except for the ones starting with:\r\n     * - api (API routes)\r\n     * - _next/static (static files)\r\n     * - _next/image (image optimization files)\r\n     * - favicon.ico (favicon file)\r\n     */\r\n    '/((?!api|_next/static|_next/image|favicon.ico).*)',\r\n  ],\r\n};"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAEO,SAAS,WAAW,OAAoB;IAC7C,uBAAuB;IACvB,MAAM,kBAAkB;QAAC;KAAa;IACtC,MAAM,aAAa;QAAC;KAAQ;IAE5B,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,OAAO;IAEpC,4CAA4C;IAC5C,MAAM,QAAQ,QAAQ,OAAO,CAAC,GAAG,CAAC,eAAe;IAEjD,+DAA+D;IAC/D,IAAI,WAAW,IAAI,CAAC,CAAA,QAAS,SAAS,UAAU,CAAC,WAAW,OAAO;QACjE,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,cAAc,QAAQ,GAAG;IAChE;IAEA,mDAAmD;IACnD,IAAI,gBAAgB,IAAI,CAAC,CAAA,QAAS,SAAS,UAAU,CAAC,WAAW,CAAC,OAAO;QACvE,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,SAAS,QAAQ,GAAG;IAC3D;IAEA,OAAO,gMAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QACP;;;;;;KAMC,GACD;KACD;AACH"}}]
}