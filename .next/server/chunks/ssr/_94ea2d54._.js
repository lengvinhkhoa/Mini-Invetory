module.exports=[47349,(a,b,c)=>{"use strict";var d=a.r(72131);"function"==typeof Object.is&&Object.is,d.useState,d.useEffect,d.useLayoutEffect,d.useDebugValue,c.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:function(a,b){return b()}},87610,(a,b,c)=>{"use strict";b.exports=a.r(47349)},3915,a=>{"use strict";a.s(["default",()=>ad],3915);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(11642),f=a.i(68114),g=a.i(99570),h=a.i(50104),i=a.i(46872),j=a.i(72752),k=a.i(30553),l=a.i(87610);function m(){return()=>{}}var n="Avatar",[o,p]=(0,h.createContextScope)(n),[q,r]=o(n),s=c.forwardRef((a,d)=>{let{__scopeAvatar:e,...f}=a,[g,h]=c.useState("idle");return(0,b.jsx)(q,{scope:e,imageLoadingStatus:g,onImageLoadingStatusChange:h,children:(0,b.jsx)(k.Primitive.span,{...f,ref:d})})});s.displayName=n;var t="AvatarImage",u=c.forwardRef((a,d)=>{let{__scopeAvatar:e,src:f,onLoadingStatusChange:g=()=>{},...h}=a,n=r(t,e),o=function(a,{referrerPolicy:b,crossOrigin:d}){let e=(0,l.useSyncExternalStore)(m,()=>!0,()=>!1),f=c.useRef(null),g=e?(f.current||(f.current=new window.Image),f.current):null,[h,i]=c.useState(()=>x(g,a));return(0,j.useLayoutEffect)(()=>{i(x(g,a))},[g,a]),(0,j.useLayoutEffect)(()=>{let a=a=>()=>{i(a)};if(!g)return;let c=a("loaded"),e=a("error");return g.addEventListener("load",c),g.addEventListener("error",e),b&&(g.referrerPolicy=b),"string"==typeof d&&(g.crossOrigin=d),()=>{g.removeEventListener("load",c),g.removeEventListener("error",e)}},[g,d,b]),h}(f,h),p=(0,i.useCallbackRef)(a=>{g(a),n.onImageLoadingStatusChange(a)});return(0,j.useLayoutEffect)(()=>{"idle"!==o&&p(o)},[o,p]),"loaded"===o?(0,b.jsx)(k.Primitive.img,{...h,ref:d,src:f}):null});u.displayName=t;var v="AvatarFallback",w=c.forwardRef((a,d)=>{let{__scopeAvatar:e,delayMs:f,...g}=a,h=r(v,e),[i,j]=c.useState(void 0===f);return c.useEffect(()=>{if(void 0!==f){let a=window.setTimeout(()=>j(!0),f);return()=>window.clearTimeout(a)}},[f]),i&&"loaded"!==h.imageLoadingStatus?(0,b.jsx)(k.Primitive.span,{...g,ref:d}):null});function x(a,b){return a?b?(a.src!==b&&(a.src=b),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function y({className:a,...c}){return(0,b.jsx)(s,{"data-slot":"avatar",className:(0,f.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...c})}function z({className:a,...c}){return(0,b.jsx)(u,{"data-slot":"avatar-image",className:(0,f.cn)("aspect-square size-full",a),...c})}function A({className:a,...c}){return(0,b.jsx)(w,{"data-slot":"avatar-fallback",className:(0,f.cn)("bg-muted flex size-full items-center justify-center rounded-full",a),...c})}w.displayName=v;var B=a.i(86304),C=a.i(5084),D=a.i(35475),E=a.i(23292),F=a.i(70106);let G=(0,F.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var H=a.i(83497),I=a.i(70893),J=a.i(24669);let K=(0,F.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),L=(0,F.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),M=(0,F.default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);var N=a.i(62213),N=N,O=a.i(60246);let P=(0,F.default)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var Q=a.i(39761),R=a.i(38784);let S=[{name:"Tổng quan",href:"/dashboard",icon:G},{name:"Kho hàng",href:"/dashboard/warehouses",icon:I.Warehouse},{name:"Hàng hóa",href:"/dashboard/inventory",icon:H.Package},{name:"Đơn hàng",href:"/dashboard/orders",icon:R.ShoppingCart},{name:"Báo cáo",href:"/dashboard/reports",icon:Q.BarChart3},{name:"Giao dịch",href:"/dashboard/transactions",icon:J.TrendingUp}],T=[{name:"Người dùng",href:"/dashboard/users",icon:O.Users},{name:"Nhật ký",href:"/dashboard/logs",icon:P}];function U({isOpen:a,onToggle:c}){var h;let i=(0,d.usePathname)(),j=(0,d.useRouter)(),{user:k,signOut:l}=(0,e.useAuth)(),{userProfile:m}=(0,D.useUser)(),n=async()=>{try{await l(),E.toast.success("Đăng xuất thành công!"),j.push("/auth")}catch(a){E.toast.error("Lỗi khi đăng xuất")}},o=m?.role==="admin";return(0,b.jsxs)(b.Fragment,{children:[a&&(0,b.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:c}),(0,b.jsxs)("div",{className:(0,f.cn)("fixed inset-y-0 left-0 z-50 flex w-64 flex-col bg-white border-r border-gray-200 transition-transform duration-300 ease-in-out lg:translate-x-0",a?"translate-x-0":"-translate-x-full lg:w-16"),children:[(0,b.jsxs)("div",{className:"flex h-16 items-center justify-between px-4 border-b",children:[(0,b.jsxs)("div",{className:(0,f.cn)("flex items-center",!a&&"lg:justify-center"),children:[(0,b.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:(0,b.jsx)(H.Package,{className:"h-4 w-4"})}),(0,b.jsx)("span",{className:(0,f.cn)("ml-2 text-lg font-semibold",!a&&"hidden lg:hidden"),children:"Inventory"})]}),(0,b.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:c,className:"lg:hidden",children:(0,b.jsx)(N.default,{className:"h-4 w-4"})})]}),m&&(0,b.jsx)("div",{className:"p-4 border-b",children:(0,b.jsxs)("div",{className:(0,f.cn)("flex items-center",!a&&"lg:justify-center"),children:[(0,b.jsxs)(y,{className:"h-10 w-10",children:[(0,b.jsx)(z,{src:k?.photoURL||"",alt:m.displayName}),(0,b.jsx)(A,{children:m.displayName.charAt(0).toUpperCase()})]}),(0,b.jsxs)("div",{className:(0,f.cn)("ml-3 min-w-0 flex-1",!a&&"hidden lg:hidden"),children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:m.displayName}),(0,b.jsx)(B.Badge,{variant:{admin:"destructive",manager:"default",staff:"secondary"}[m.role]||"default",className:"text-xs mt-1",children:{admin:"Quản trị viên",manager:"Quản lý kho",staff:"Nhân viên"}[h=m.role]||h})]})]})}),(0,b.jsxs)("nav",{className:"flex-1 space-y-1 p-2 overflow-y-auto",children:[S.map(c=>{let d=i===c.href;return(0,b.jsxs)(g.Button,{variant:d?"secondary":"ghost",className:(0,f.cn)("w-full justify-start",!a&&"lg:justify-center lg:px-2"),onClick:()=>j.push(c.href),children:[(0,b.jsx)(c.icon,{className:"h-4 w-4 flex-shrink-0"}),(0,b.jsx)("span",{className:(0,f.cn)("ml-3",!a&&"hidden lg:hidden"),children:c.name})]},c.name)}),o&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(C.Separator,{className:"my-4"}),(0,b.jsx)("div",{className:"px-2 py-1",children:(0,b.jsx)("h3",{className:(0,f.cn)("text-xs font-semibold text-gray-500 uppercase tracking-wider",!a&&"hidden lg:hidden"),children:"Quản trị"})}),T.map(c=>{let d=i===c.href;return(0,b.jsxs)(g.Button,{variant:d?"secondary":"ghost",className:(0,f.cn)("w-full justify-start",!a&&"lg:justify-center lg:px-2"),onClick:()=>j.push(c.href),children:[(0,b.jsx)(c.icon,{className:"h-4 w-4 flex-shrink-0"}),(0,b.jsx)("span",{className:(0,f.cn)("ml-3",!a&&"hidden lg:hidden"),children:c.name})]},c.name)})]})]}),(0,b.jsxs)("div",{className:"border-t p-2 space-y-1",children:[(0,b.jsxs)(g.Button,{variant:"ghost",className:(0,f.cn)("w-full justify-start",!a&&"lg:justify-center lg:px-2"),onClick:()=>j.push("/dashboard/settings"),children:[(0,b.jsx)(K,{className:"h-4 w-4 flex-shrink-0"}),(0,b.jsx)("span",{className:(0,f.cn)("ml-3",!a&&"hidden lg:hidden"),children:"Cài đặt"})]}),(0,b.jsxs)(g.Button,{variant:"ghost",className:(0,f.cn)("w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",!a&&"lg:justify-center lg:px-2"),onClick:n,children:[(0,b.jsx)(L,{className:"h-4 w-4 flex-shrink-0"}),(0,b.jsx)("span",{className:(0,f.cn)("ml-3",!a&&"hidden lg:hidden"),children:"Đăng xuất"})]})]})]})]})}var V=a.i(66718),W=a.i(35732),X=a.i(87532);let Y=(0,F.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),Z=(0,F.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),$=(0,F.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var _=a.i(11989),_=_;function aa({sidebarOpen:a,onSidebarToggle:c,title:f,subtitle:h}){var i;let{user:j,signOut:k}=(0,e.useAuth)(),{userProfile:l}=(0,D.useUser)(),m=(0,d.useRouter)(),n=async()=>{try{await k(),E.toast.success("Đăng xuất thành công!"),m.push("/auth")}catch(a){E.toast.error("Lỗi khi đăng xuất")}};return(0,b.jsxs)("header",{className:"sticky top-0 z-30 flex h-16 items-center gap-4 border-b bg-white px-4 sm:px-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:c,className:"hidden lg:flex",children:a?(0,b.jsx)($,{className:"h-4 w-4"}):(0,b.jsx)(_.default,{className:"h-4 w-4"})}),(0,b.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:c,className:"lg:hidden",children:(0,b.jsx)(M,{className:"h-5 w-5"})})]}),f&&(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h1",{className:"text-lg font-semibold text-gray-900 truncate",children:f}),h&&(0,b.jsx)("p",{className:"text-sm text-gray-500 truncate",children:h})]}),(0,b.jsx)("div",{className:"hidden md:flex flex-1 max-w-md",children:(0,b.jsxs)("div",{className:"relative w-full",children:[(0,b.jsx)(X.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),(0,b.jsx)(V.Input,{placeholder:"Tìm kiếm...",className:"pl-10"})]})}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(g.Button,{variant:"ghost",size:"sm",className:"relative",children:[(0,b.jsx)(Y,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"absolute -top-1 -right-1 h-2 w-2 bg-red-500 rounded-full"})]}),l&&(0,b.jsxs)(W.DropdownMenu,{children:[(0,b.jsx)(W.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(g.Button,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:(0,b.jsxs)(y,{className:"h-10 w-10",children:[(0,b.jsx)(z,{src:j?.photoURL||"",alt:l.displayName}),(0,b.jsx)(A,{children:l.displayName.charAt(0).toUpperCase()})]})})}),(0,b.jsxs)(W.DropdownMenuContent,{className:"w-56",align:"end",forceMount:!0,children:[(0,b.jsx)(W.DropdownMenuLabel,{className:"font-normal",children:(0,b.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium leading-none",children:l.displayName}),(0,b.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:j?.email}),(0,b.jsx)(B.Badge,{variant:{admin:"destructive",manager:"default",staff:"secondary"}[l.role]||"default",className:"text-xs w-fit mt-1",children:{admin:"Quản trị viên",manager:"Quản lý kho",staff:"Nhân viên"}[i=l.role]||i})]})}),(0,b.jsx)(W.DropdownMenuSeparator,{}),(0,b.jsxs)(W.DropdownMenuItem,{onClick:()=>m.push("/profile"),children:[(0,b.jsx)(Z,{className:"mr-2 h-4 w-4"}),(0,b.jsx)("span",{children:"Hồ sơ"})]}),(0,b.jsxs)(W.DropdownMenuItem,{onClick:()=>m.push("/settings"),children:[(0,b.jsx)(K,{className:"mr-2 h-4 w-4"}),(0,b.jsx)("span",{children:"Cài đặt"})]}),(0,b.jsx)(W.DropdownMenuSeparator,{}),(0,b.jsxs)(W.DropdownMenuItem,{onClick:n,className:"text-red-600",children:[(0,b.jsx)(L,{className:"mr-2 h-4 w-4"}),(0,b.jsx)("span",{children:"Đăng xuất"})]})]})]})]})]})}var ab=a.i(76243);let ac="sidebar-open";function ad({children:a}){let{user:g,loading:h}=(0,e.useAuth)(),i=(0,d.useRouter)(),{isOpen:j,isLoaded:k,toggle:l}=function(){let[a,b]=(0,c.useState)(!1),[d,e]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{let a=localStorage.getItem(ac);null!==a?b(JSON.parse(a)):b(!1),e(!0)},[]),(0,c.useEffect)(()=>{d&&localStorage.setItem(ac,JSON.stringify(a))},[a,d]),{isOpen:a,isLoaded:d,toggle:()=>{b(!a)},open:()=>{b(!0)},close:()=>{b(!1)}}}();return((0,c.useEffect)(()=>{h||g||i.push("/auth")},[g,h,i]),h||!k)?(0,b.jsx)(ab.LoadingState,{message:"Đang tải..."}):g?(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)(U,{isOpen:j,onToggle:l}),(0,b.jsxs)("div",{className:(0,f.cn)("transition-all duration-300 ease-in-out",j?"lg:ml-64":"lg:ml-16"),children:[(0,b.jsx)(aa,{sidebarOpen:j,onSidebarToggle:l}),(0,b.jsx)("main",{className:"p-4 sm:p-6 lg:p-8",children:a})]})]}):null}}];

//# sourceMappingURL=_94ea2d54._.js.map