module.exports=[13042,a=>{"use strict";a.s(["default",()=>L],13042);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(91119),f=a.i(99570),g=a.i(86304),h=a.i(5084),i=a.i(66718),j=a.i(70430),k=a.i(86192),l=a.i(76243),m=a.i(88307),n=a.i(77929),o=a.i(35475),p=a.i(23292),q=a.i(210),r=a.i(83497),s=a.i(24569),t=a.i(81560),u=a.i(41675),v=a.i(24987),w=a.i(63519),x=a.i(70106);let y=(0,x.default)("barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);var z=a.i(90166),A=a.i(73570),B=a.i(24669);let C=(0,x.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var D=a.i(15618);let E=(0,x.default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var F=a.i(90669),G=a.i(41710),H=a.i(84505);let I=(0,x.default)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);var J=a.i(17755),K=a.i(35732);function L(){let a=(0,d.useParams)(),x=(0,d.useRouter)(),[L,M]=(0,c.useState)(null),[N,O]=(0,c.useState)(null),[P,Q]=(0,c.useState)(!0),[R,S]=(0,c.useState)(!1),[T,U]=(0,c.useState)(!1),[V,W]=(0,c.useState)(!1),[X,Y]=(0,c.useState)(""),[Z,$]=(0,c.useState)(""),[_,aa]=(0,c.useState)(!1),[ab,ac]=(0,c.useState)([]),[ad,ae]=(0,c.useState)(!1),{userProfile:af}=(0,o.useUser)(),ag=a.id,ah=async()=>{try{Q(!0);let a=await n.firestoreService.getInventoryItem(ag);if(!a){p.toast.error("Không tìm thấy sản phẩm"),x.push("/dashboard/inventory");return}M(a);let b=await n.firestoreService.getWarehouse(a.warehouseId);O(b),ai()}catch(a){console.error("Error loading item:",a),p.toast.error("Lỗi khi tải thông tin sản phẩm"),x.push("/dashboard/inventory")}finally{Q(!1)}},ai=async()=>{try{ae(!0);let a=[{id:"1",type:"in",quantity:100,reason:"Nhập hàng từ nhà cung cấp",createdAt:new Date(Date.now()-1728e5),createdBy:"Admin",previousQuantity:0,newQuantity:100},{id:"2",type:"out",quantity:25,reason:"Bán hàng",createdAt:new Date(Date.now()-864e5),createdBy:"Staff",previousQuantity:100,newQuantity:75},{id:"3",type:"adjustment",quantity:-5,reason:"Kiểm kê - hàng hỏng",createdAt:new Date(Date.now()-36e5),createdBy:"Manager",previousQuantity:75,newQuantity:70}];a.sort((a,b)=>b.createdAt.getTime()-a.createdAt.getTime()),ac(a)}catch(a){console.error("Error loading transactions:",a)}finally{ae(!1)}};(0,c.useEffect)(()=>{ag&&ah()},[ag]);let aj=async()=>{if(L&&!V)try{W(!0),await n.firestoreService.deleteInventoryItem(L.id),p.toast.success("Xóa sản phẩm thành công!"),x.push("/dashboard/inventory")}catch(a){p.toast.error("Lỗi khi xóa sản phẩm: "+a.message)}finally{W(!1),U(!1)}},ak=async a=>{if(!L||!X||_)return;let b=parseInt(X);if(isNaN(b)||b<=0)return void p.toast.error("Vui lòng nhập số lượng hợp lệ");try{aa(!0);let c="add"===a?L.quantity+b:Math.max(0,L.quantity-b);await n.firestoreService.updateInventoryItem(L.id,{quantity:c});let d={id:Date.now().toString(),type:"add"===a?"in":"out",quantity:b,reason:Z||`${"add"===a?"Nhập":"Xuất"} h\xe0ng thủ c\xf4ng`,createdAt:new Date,createdBy:af?.name||"User",previousQuantity:L.quantity,newQuantity:c};ac(a=>[d,...a]);let e={...L,quantity:c};M(e),Y(""),$(""),p.toast.success(`${"add"===a?"Nhập":"Xuất"} ${b} sản phẩm th\xe0nh c\xf4ng!`)}catch(a){p.toast.error("Lỗi khi điều chỉnh số lượng: "+a.message)}finally{aa(!1)}},al=a=>{switch(a){case"in_stock":return(0,b.jsx)(g.Badge,{variant:"default",className:"bg-green-100 text-green-800",children:"Còn hàng"});case"low_stock":return(0,b.jsx)(g.Badge,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Sắp hết"});case"out_of_stock":return(0,b.jsx)(g.Badge,{variant:"destructive",children:"Hết hàng"});default:return(0,b.jsx)(g.Badge,{variant:"outline",children:"Không xác định"})}},am=a=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(a),an=af?.role==="admin"||af?.permissions?.canManageInventory,ao=af?.role==="admin"||af?.permissions?.canManageInventory;return P?(0,b.jsx)(l.LoadingState,{message:"Đang tải thông tin sản phẩm..."}):L?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsxs)(f.Button,{variant:"ghost",size:"sm",onClick:()=>x.push("/dashboard/inventory"),children:[(0,b.jsx)(q.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Quay lại"]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:L.name}),al(L.status)]}),(0,b.jsxs)("p",{className:"text-muted-foreground flex items-center mt-1",children:[(0,b.jsx)(y,{className:"h-4 w-4 mr-1"}),"SKU: ",L.sku]})]})]}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[an&&(0,b.jsxs)(f.Button,{onClick:()=>S(!0),children:[(0,b.jsx)(s.Edit,{className:"mr-2 h-4 w-4"}),"Chỉnh sửa"]}),(0,b.jsxs)(K.DropdownMenu,{children:[(0,b.jsx)(K.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(f.Button,{variant:"outline",children:[(0,b.jsx)(J.MoreHorizontal,{className:"h-4 w-4 mr-2"}),"Thêm"]})}),(0,b.jsxs)(K.DropdownMenuContent,{align:"end",children:[(0,b.jsxs)(K.DropdownMenuItem,{onClick:()=>{if(!L)return;let a=new Blob([JSON.stringify({productName:L.name,sku:L.sku,currentStock:L.quantity,minStock:L.minQuantity,unitPrice:L.unitPrice,totalValue:L.quantity*L.unitPrice,status:L.status,warehouse:N?.name||"N/A",lastUpdated:L.lastUpdated.toLocaleDateString("vi-VN"),transactions:ab},null,2)],{type:"application/json"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`inventory-report-${L.sku}-${new Date().toISOString().split("T")[0]}.json`,c.click(),URL.revokeObjectURL(b),p.toast.success("Xuất báo cáo thành công!")},children:[(0,b.jsx)(H.Download,{className:"mr-2 h-4 w-4"}),"Xuất báo cáo"]}),(0,b.jsxs)(K.DropdownMenuItem,{onClick:()=>{if(!L)return;let a=window.open("","_blank");a&&(a.document.write(`
        <html>
          <head>
            <title>In m\xe3 vạch - ${L.sku}</title>
            <style>
              body { font-family: Arial, sans-serif; padding: 20px; }
              .barcode-container { text-align: center; margin: 20px 0; }
              .barcode { font-family: 'Courier New', monospace; font-size: 24px; letter-spacing: 2px; }
              .product-info { margin-top: 10px; }
            </style>
          </head>
          <body>
            <div class="barcode-container">
              <div class="barcode">||||| ${L.sku} |||||</div>
              <div class="product-info">
                <h3>${L.name}</h3>
                <p>SKU: ${L.sku}</p>
                <p>Gi\xe1: ${am(L.unitPrice)}</p>
              </div>
            </div>
          </body>
        </html>
      `),a.document.close(),a.print()),p.toast.success("Đang in mã vạch...")},children:[(0,b.jsx)(I,{className:"mr-2 h-4 w-4"}),"In mã vạch"]})]})]}),ao&&(0,b.jsxs)(f.Button,{variant:"destructive",onClick:()=>U(!0),children:[(0,b.jsx)(t.Trash2,{className:"mr-2 h-4 w-4"}),"Xóa"]})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"Số lượng hiện tại"}),(0,b.jsx)(r.Package,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:L.quantity}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Tối thiểu: ",L.minQuantity]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"Đơn giá"}),(0,b.jsx)(z.DollarSign,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:am(L.unitPrice)}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Giá bán lẻ"})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"Tổng giá trị"}),(0,b.jsx)(B.TrendingUp,{className:"h-4 w-4 text-green-600"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-600",children:am(L.quantity*L.unitPrice)}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Giá trị tồn kho"})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"Trạng thái"}),(0,b.jsx)(A.AlertTriangle,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:al(L.status)}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tình trạng tồn kho"})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Thông tin sản phẩm"}),(0,b.jsx)(e.CardDescription,{children:"Chi tiết về sản phẩm và thông tin kho"})]}),(0,b.jsx)(e.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-sm font-medium text-muted-foreground",children:"Tên sản phẩm"}),(0,b.jsx)("p",{className:"mt-1 font-medium",children:L.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-sm font-medium text-muted-foreground",children:"SKU"}),(0,b.jsx)("p",{className:"mt-1 font-mono text-sm",children:L.sku})]}),L.description&&(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-sm font-medium text-muted-foreground",children:"Mô tả"}),(0,b.jsx)("p",{className:"mt-1 text-sm",children:L.description})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-sm font-medium text-muted-foreground",children:"Danh mục"}),(0,b.jsx)("p",{className:"mt-1",children:L.category})]}),L.supplier&&(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-sm font-medium text-muted-foreground",children:"Nhà cung cấp"}),(0,b.jsx)("p",{className:"mt-1",children:L.supplier})]}),L.location&&(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-sm font-medium text-muted-foreground",children:"Vị trí trong kho"}),(0,b.jsx)("p",{className:"mt-1 font-mono text-sm",children:L.location})]}),(0,b.jsx)(h.Separator,{}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-sm font-medium text-muted-foreground",children:"Ngày tạo"}),(0,b.jsxs)("p",{className:"flex items-center mt-1",children:[(0,b.jsx)(u.Calendar,{className:"h-4 w-4 mr-2 text-muted-foreground"}),L.createdAt.toLocaleDateString("vi-VN")]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-sm font-medium text-muted-foreground",children:"Cập nhật"}),(0,b.jsxs)("p",{className:"flex items-center mt-1",children:[(0,b.jsx)(u.Calendar,{className:"h-4 w-4 mr-2 text-muted-foreground"}),L.lastUpdated.toLocaleDateString("vi-VN")]})]})]}),N&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.Separator,{}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-sm font-medium text-muted-foreground",children:"Kho hàng"}),(0,b.jsxs)("div",{className:"mt-1 space-y-1",children:[(0,b.jsx)("p",{className:"font-medium",children:N.name}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground flex items-center",children:[(0,b.jsx)(v.MapPin,{className:"h-3 w-3 mr-1"}),N.address]}),N.phone&&(0,b.jsxs)("p",{className:"text-sm text-muted-foreground flex items-center",children:[(0,b.jsx)(w.Phone,{className:"h-3 w-3 mr-1"}),N.phone]})]})]})]})]})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Quản lý số lượng"}),(0,b.jsx)(e.CardDescription,{children:"Điều chỉnh tồn kho và theo dõi biến động"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)(j.Label,{className:"text-sm font-medium",children:"Tồn kho hiện tại"}),al(L.status)]}),(0,b.jsx)("div",{className:"text-3xl font-bold",children:L.quantity}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground mt-1",children:["Tối thiểu: ",L.minQuantity," | Giá trị: ",am(L.quantity*L.unitPrice)]})]}),an&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(j.Label,{className:"text-sm font-medium",children:"Điều chỉnh nhanh"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,b.jsx)(i.Input,{type:"number",placeholder:"Số lượng",value:X,onChange:a=>Y(a.target.value),min:"1"}),(0,b.jsxs)(f.Button,{variant:"outline",onClick:()=>ak("add"),disabled:_||!X,className:"text-green-600 border-green-200 hover:bg-green-50",children:[(0,b.jsx)(D.Plus,{className:"h-4 w-4 mr-1"}),"Nhập"]}),(0,b.jsxs)(f.Button,{variant:"outline",onClick:()=>ak("subtract"),disabled:_||!X,className:"text-red-600 border-red-200 hover:bg-red-50",children:[(0,b.jsx)(E,{className:"h-4 w-4 mr-1"}),"Xuất"]})]}),(0,b.jsx)(i.Input,{placeholder:"Lý do điều chỉnh (tùy chọn)",value:Z,onChange:a=>$(a.target.value)}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Nhanh:"}),[1,5,10,25].map(a=>(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>Y(a.toString()),className:"h-6 px-2 text-xs",children:a},a))]})]}),(0,b.jsx)(h.Separator,{}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{className:"text-sm font-medium",children:"Cảnh báo tồn kho"}),0===L.quantity&&(0,b.jsxs)("div",{className:"flex items-center p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,b.jsx)(A.AlertTriangle,{className:"h-4 w-4 text-red-600 mr-2"}),(0,b.jsx)("span",{className:"text-sm text-red-800",children:"Sản phẩm đã hết hàng"})]}),L.quantity>0&&L.quantity<=L.minQuantity&&(0,b.jsxs)("div",{className:"flex items-center p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,b.jsx)(A.AlertTriangle,{className:"h-4 w-4 text-yellow-600 mr-2"}),(0,b.jsxs)("span",{className:"text-sm text-yellow-800",children:["Sản phẩm sắp hết hàng (còn ",L.quantity,"/",L.minQuantity,")"]})]}),L.quantity>L.minQuantity&&(0,b.jsxs)("div",{className:"flex items-center p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,b.jsx)(r.Package,{className:"h-4 w-4 text-green-600 mr-2"}),(0,b.jsx)("span",{className:"text-sm text-green-800",children:"Tồn kho đầy đủ"})]})]})]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)(e.CardTitle,{className:"flex items-center",children:[(0,b.jsx)(B.TrendingUp,{className:"h-5 w-5 mr-2"}),"Xu hướng tồn kho"]}),(0,b.jsx)(e.CardDescription,{children:"Biểu đồ thay đổi số lượng tồn kho theo thời gian"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"h-64 flex items-center justify-center border-2 border-dashed border-gray-200 rounded-lg",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(B.TrendingUp,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Biểu đồ xu hướng"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Tính năng biểu đồ sẽ được cập nhật trong phiên bản tiếp theo"}),(0,b.jsxs)("div",{className:"mt-4 text-sm text-muted-foreground",children:[(0,b.jsxs)("p",{children:["Hiện tại: ",(0,b.jsx)("span",{className:"font-medium",children:L.quantity})," sản phẩm"]}),(0,b.jsxs)("p",{children:["Tối thiểu: ",(0,b.jsx)("span",{className:"font-medium",children:L.minQuantity})," sản phẩm"]}),(0,b.jsxs)("p",{children:["Tỷ lệ: ",(0,b.jsxs)("span",{className:"font-medium",children:[(L.quantity/Math.max(L.minQuantity,1)*100).toFixed(1),"%"]})]})]})]})})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)(e.CardTitle,{className:"flex items-center",children:[(0,b.jsx)(C,{className:"h-5 w-5 mr-2"}),"Lịch sử giao dịch"]}),(0,b.jsx)(e.CardDescription,{children:"Các giao dịch nhập/xuất của sản phẩm này"})]}),(0,b.jsx)(e.CardContent,{children:ad?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Đang tải lịch sử giao dịch..."})]}):0===ab.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(F.Activity,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Chưa có giao dịch"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Lịch sử giao dịch sẽ hiển thị khi có hoạt động nhập/xuất"})]}):(0,b.jsxs)("div",{className:"space-y-4",children:[ab.map(a=>(0,b.jsxs)("div",{className:"flex items-start space-x-4 p-4 border rounded-lg",children:[(0,b.jsx)("div",{className:`p-2 rounded-full ${"in"===a.type?"bg-green-100 text-green-600":"out"===a.type?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}`,children:"in"===a.type?(0,b.jsx)(D.Plus,{className:"h-4 w-4"}):"out"===a.type?(0,b.jsx)(E,{className:"h-4 w-4"}):(0,b.jsx)(F.Activity,{className:"h-4 w-4"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsxs)("span",{className:`font-medium ${"in"===a.type?"text-green-600":"out"===a.type?"text-red-600":"text-yellow-600"}`,children:["in"===a.type?"+":"out"===a.type?"-":"±",Math.abs(a.quantity)]}),(0,b.jsxs)("span",{className:"text-sm text-muted-foreground",children:[a.previousQuantity," → ",a.newQuantity]})]}),(0,b.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,b.jsx)(G.Clock,{className:"h-3 w-3 mr-1"}),a.createdAt.toLocaleDateString("vi-VN")," ",a.createdAt.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})]})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:a.reason}),(0,b.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Thực hiện bởi: ",a.createdBy]}),(0,b.jsx)(g.Badge,{variant:"outline",className:"text-xs",children:"in"===a.type?"Nhập kho":"out"===a.type?"Xuất kho":"Điều chỉnh"})]})]})]},a.id)),ab.length>=10&&(0,b.jsx)("div",{className:"text-center pt-4",children:(0,b.jsx)(f.Button,{variant:"outline",size:"sm",children:"Xem thêm"})})]})})]}),(0,b.jsx)(m.InventoryForm,{open:R,onClose:()=>S(!1),onSuccess:a=>{M(a)},item:L,mode:"edit"}),(0,b.jsx)(k.AlertDialog,{open:T,onOpenChange:U,children:(0,b.jsxs)(k.AlertDialogContent,{children:[(0,b.jsxs)(k.AlertDialogHeader,{children:[(0,b.jsx)(k.AlertDialogTitle,{children:"Xác nhận xóa sản phẩm"}),(0,b.jsxs)(k.AlertDialogDescription,{children:['Bạn có chắc chắn muốn xóa sản phẩm "',L.name,'" (SKU: ',L.sku,")?",(0,b.jsx)("br",{}),(0,b.jsx)("br",{}),(0,b.jsx)("strong",{children:"Thông tin sản phẩm:"}),(0,b.jsx)("br",{}),"• Số lượng hiện tại: ",L.quantity,(0,b.jsx)("br",{}),"• Giá trị tồn kho: ",am(L.quantity*L.unitPrice),(0,b.jsx)("br",{}),"• Kho hàng: ",N?.name,(0,b.jsx)("br",{}),(0,b.jsx)("br",{}),"Hành động này không thể hoàn tác."]})]}),(0,b.jsxs)(k.AlertDialogFooter,{children:[(0,b.jsx)(k.AlertDialogCancel,{disabled:V,children:"Hủy"}),(0,b.jsx)(k.AlertDialogAction,{onClick:aj,disabled:V,className:"bg-red-600 hover:bg-red-700",children:V?"Đang xóa...":"Xóa"})]})]})})]}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Không tìm thấy sản phẩm"}),(0,b.jsx)(f.Button,{onClick:()=>x.push("/dashboard/inventory"),children:"Quay lại danh sách"})]})}}];

//# sourceMappingURL=src_app_dashboard_inventory_%5Bid%5D_page_tsx_9b95ef91._.js.map