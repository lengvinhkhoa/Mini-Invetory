module.exports=[24987,63519,a=>{"use strict";a.s(["MapPin",()=>c],24987);var b=a.i(70106);let c=(0,b.default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["Phone",()=>d],63519);let d=(0,b.default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},24569,a=>{"use strict";a.s(["Edit",()=>b],24569);let b=(0,a.i(70106).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},91119,a=>{"use strict";a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f]);var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}},90669,a=>{"use strict";a.s(["Activity",()=>b],90669);let b=(0,a.i(70106).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},41675,a=>{"use strict";a.s(["Calendar",()=>b],41675);let b=(0,a.i(70106).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},210,a=>{"use strict";a.s(["ArrowLeft",()=>b],210);let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},32450,92258,a=>{"use strict";a.s(["WarehouseForm",()=>p],32450);var b=a.i(87924),c=a.i(72131),d=a.i(95245),e=a.i(56757),f=a.i(59501),g=a.i(14574),h=a.i(99570),i=a.i(66718),j=a.i(29246),k=a.i(41921),l=a.i(80701),m=a.i(23292),n=a.i(77929);let o=e.z.object({name:e.z.string().min(2,"Tên kho tối thiểu 2 ký tự"),address:e.z.string().min(5,"Địa chỉ tối thiểu 5 ký tự"),capacity:e.z.string().min(1,"Sức chứa là bắt buộc"),description:e.z.string().optional(),phone:e.z.string().optional(),email:e.z.string().email("Email không hợp lệ").optional().or(e.z.literal("")),status:e.z.enum(["active","inactive","maintenance"])});function p({open:a,onClose:e,onSuccess:p,warehouse:q,mode:r}){let[s,t]=(0,c.useState)(!1),u=(0,d.useForm)({resolver:(0,f.zodResolver)(o),defaultValues:{name:q?.name||"",address:q?.address||"",capacity:q?.capacity?.toString()||"",description:q?.description||"",phone:q?.phone||"",email:q?.email||"",status:q?.status||"active"}}),v=async a=>{t(!0);try{if("create"===r){let b={name:a.name,address:a.address,capacity:parseInt(a.capacity),description:a.description,phone:a.phone,email:a.email,status:a.status,currentStock:0,totalItems:0,ownerId:"",managers:[]},c={id:await n.firestoreService.createWarehouse(b),...b,createdAt:new Date,updatedAt:new Date};m.toast.success("Tạo kho hàng thành công!"),p(c)}else if("edit"===r&&q){let b={name:a.name,address:a.address,capacity:parseInt(a.capacity),description:a.description,phone:a.phone,email:a.email,status:a.status};await n.firestoreService.updateWarehouse(q.id,b);let c={...q,...b,updatedAt:new Date};m.toast.success("Cập nhật kho hàng thành công!"),p(c)}u.reset(),e()}catch(a){console.error("Warehouse form error:",a),m.toast.error("Lỗi: "+a.message)}finally{t(!1)}},w=()=>{u.reset(),e()};return(0,b.jsx)(g.Dialog,{open:a,onOpenChange:w,children:(0,b.jsxs)(g.DialogContent,{className:"sm:max-w-[600px]",children:[(0,b.jsxs)(g.DialogHeader,{children:[(0,b.jsx)(g.DialogTitle,{children:"create"===r?"Tạo kho hàng mới":"Chỉnh sửa kho hàng"}),(0,b.jsx)(g.DialogDescription,{children:"create"===r?"Điền thông tin để tạo kho hàng mới":"Cập nhật thông tin kho hàng"})]}),(0,b.jsx)(k.Form,{...u,children:(0,b.jsxs)("form",{onSubmit:u.handleSubmit(v),className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(k.FormField,{control:u.control,name:"name",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:"Tên kho hàng *"}),(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(i.Input,{placeholder:"Kho Hà Nội",...a})}),(0,b.jsx)(k.FormMessage,{})]})}),(0,b.jsx)(k.FormField,{control:u.control,name:"status",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:"Trạng thái"}),(0,b.jsxs)(l.Select,{onValueChange:a.onChange,defaultValue:a.value,children:[(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(l.SelectTrigger,{children:(0,b.jsx)(l.SelectValue,{placeholder:"Chọn trạng thái"})})}),(0,b.jsxs)(l.SelectContent,{children:[(0,b.jsx)(l.SelectItem,{value:"active",children:"Hoạt động"}),(0,b.jsx)(l.SelectItem,{value:"inactive",children:"Tạm dừng"}),(0,b.jsx)(l.SelectItem,{value:"maintenance",children:"Bảo trì"})]})]}),(0,b.jsx)(k.FormMessage,{})]})})]}),(0,b.jsx)(k.FormField,{control:u.control,name:"address",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:"Địa chỉ *"}),(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(j.Textarea,{placeholder:"123 Nguyễn Trãi, Thanh Xuân, Hà Nội",...a})}),(0,b.jsx)(k.FormMessage,{})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(k.FormField,{control:u.control,name:"capacity",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:"Sức chứa (m²) *"}),(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(i.Input,{type:"number",placeholder:"1000",...a})}),(0,b.jsx)(k.FormMessage,{})]})}),(0,b.jsx)(k.FormField,{control:u.control,name:"phone",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:"Số điện thoại"}),(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(i.Input,{placeholder:"0123456789",...a})}),(0,b.jsx)(k.FormMessage,{})]})})]}),(0,b.jsx)(k.FormField,{control:u.control,name:"email",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:"Email"}),(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(i.Input,{type:"email",placeholder:"warehouse@company.com",...a})}),(0,b.jsx)(k.FormMessage,{})]})}),(0,b.jsx)(k.FormField,{control:u.control,name:"description",render:({field:a})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:"Mô tả"}),(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(j.Textarea,{placeholder:"Mô tả về kho hàng...",...a})}),(0,b.jsx)(k.FormMessage,{})]})}),(0,b.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,b.jsx)(h.Button,{type:"button",variant:"outline",onClick:w,disabled:s,children:"Hủy"}),(0,b.jsx)(h.Button,{type:"submit",disabled:s,children:s?"create"===r?"Đang tạo...":"Đang cập nhật...":"create"===r?"Tạo kho hàng":"Cập nhật"})]})]})})]})})}a.s(["Mail",()=>q],92258);let q=(0,a.i(70106).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},44027,a=>{"use strict";a.s(["default",()=>w]);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(91119),f=a.i(99570),g=a.i(86304),h=a.i(5084),i=a.i(76243),j=a.i(32450),k=a.i(77929),l=a.i(23292),m=a.i(210),n=a.i(24987),o=a.i(63519),p=a.i(92258),q=a.i(60246),r=a.i(83497),s=a.i(90669),t=a.i(24569),u=a.i(41675),v=a.i(39761);function w(){let a=(0,d.useParams)(),w=(0,d.useRouter)(),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)(!0),[B,C]=(0,c.useState)(!1),D=a.id,E=async()=>{try{A(!0);let a=await k.firestoreService.getWarehouse(D);if(!a){l.toast.error("Không tìm thấy kho hàng"),w.push("/dashboard/warehouses");return}y(a)}catch(a){console.error("Error loading warehouse:",a),l.toast.error("Lỗi khi tải thông tin kho hàng"),w.push("/dashboard/warehouses")}finally{A(!1)}};return((0,c.useEffect)(()=>{D&&E()},[D]),z)?(0,b.jsx)(i.LoadingState,{message:"Đang tải thông tin kho hàng..."}):x?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsxs)(f.Button,{variant:"ghost",size:"sm",onClick:()=>w.push("/dashboard/warehouses"),children:[(0,b.jsx)(m.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Quay lại"]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:x.name}),(a=>{switch(a){case"active":return(0,b.jsx)(g.Badge,{variant:"default",className:"bg-green-100 text-green-800",children:"Hoạt động"});case"inactive":return(0,b.jsx)(g.Badge,{variant:"secondary",children:"Tạm dừng"});case"maintenance":return(0,b.jsx)(g.Badge,{variant:"outline",className:"border-yellow-500 text-yellow-700",children:"Bảo trì"});default:return(0,b.jsx)(g.Badge,{variant:"outline",children:"Không xác định"})}})(x.status)]}),(0,b.jsxs)("p",{className:"text-muted-foreground flex items-center mt-1",children:[(0,b.jsx)(n.MapPin,{className:"h-4 w-4 mr-1"}),x.address]})]})]}),(0,b.jsxs)(f.Button,{onClick:()=>C(!0),children:[(0,b.jsx)(t.Edit,{className:"mr-2 h-4 w-4"}),"Chỉnh sửa"]})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"Sức chứa"}),(0,b.jsx)(r.Package,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold",children:[x.capacity.toLocaleString()," m²"]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tổng diện tích"})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"Đã sử dụng"}),(0,b.jsx)(s.Activity,{className:"h-4 w-4 text-blue-600"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[x.currentStock.toLocaleString()," m²"]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(x.currentStock/x.capacity*100).toFixed(1),"% sức chứa"]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"Sản phẩm"}),(0,b.jsx)(r.Package,{className:"h-4 w-4 text-green-600"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-600",children:x.totalItems||0}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tổng số mặt hàng"})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"Quản lý"}),(0,b.jsx)(q.Users,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:x.managers.length}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Người quản lý"})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Thông tin kho hàng"}),(0,b.jsx)(e.CardDescription,{children:"Chi tiết về kho hàng và thông tin liên hệ"})]}),(0,b.jsx)(e.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Địa chỉ"}),(0,b.jsxs)("p",{className:"flex items-center mt-1",children:[(0,b.jsx)(n.MapPin,{className:"h-4 w-4 mr-2 text-muted-foreground"}),x.address]})]}),x.phone&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Số điện thoại"}),(0,b.jsxs)("p",{className:"flex items-center mt-1",children:[(0,b.jsx)(o.Phone,{className:"h-4 w-4 mr-2 text-muted-foreground"}),x.phone]})]}),x.email&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),(0,b.jsxs)("p",{className:"flex items-center mt-1",children:[(0,b.jsx)(p.Mail,{className:"h-4 w-4 mr-2 text-muted-foreground"}),x.email]})]}),x.description&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Mô tả"}),(0,b.jsx)("p",{className:"mt-1 text-sm",children:x.description})]}),(0,b.jsx)(h.Separator,{}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Ngày tạo"}),(0,b.jsxs)("p",{className:"flex items-center mt-1",children:[(0,b.jsx)(u.Calendar,{className:"h-4 w-4 mr-2 text-muted-foreground"}),x.createdAt.toLocaleDateString("vi-VN")]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Cập nhật"}),(0,b.jsxs)("p",{className:"flex items-center mt-1",children:[(0,b.jsx)(u.Calendar,{className:"h-4 w-4 mr-2 text-muted-foreground"}),x.updatedAt.toLocaleDateString("vi-VN")]})]})]})]})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Sức chứa kho hàng"}),(0,b.jsx)(e.CardDescription,{children:"Tình trạng sử dụng diện tích kho"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{children:"Đã sử dụng"}),(0,b.jsxs)("span",{className:"font-medium",children:[x.currentStock.toLocaleString()," m²"]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4",children:(0,b.jsx)("div",{className:`h-4 rounded-full ${((a,b)=>{let c=a/b*100;return c>=90?"bg-red-500":c>=70?"bg-yellow-500":"bg-green-500"})(x.currentStock,x.capacity)}`,style:{width:`${Math.min(x.currentStock/x.capacity*100,100)}%`}})}),(0,b.jsxs)("div",{className:"flex justify-between text-sm text-muted-foreground",children:[(0,b.jsx)("span",{children:"0 m²"}),(0,b.jsxs)("span",{children:[x.capacity.toLocaleString()," m²"]})]})]}),(0,b.jsx)(h.Separator,{}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm",children:"Tỷ lệ sử dụng"}),(0,b.jsxs)("span",{className:"text-lg font-bold",children:[(x.currentStock/x.capacity*100).toFixed(1),"%"]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm",children:"Diện tích còn lại"}),(0,b.jsxs)("span",{className:"text-lg font-bold text-green-600",children:[(x.capacity-x.currentStock).toLocaleString()," m²"]})]})]})]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Hoạt động gần đây"}),(0,b.jsx)(e.CardDescription,{children:"Các giao dịch nhập/xuất kho trong 7 ngày qua"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(v.BarChart3,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Đang phát triển"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Tính năng theo dõi hoạt động sẽ sớm được cập nhật"})]})})]}),(0,b.jsx)(j.WarehouseForm,{open:B,onClose:()=>C(!1),onSuccess:a=>{y(a)},warehouse:x,mode:"edit"})]}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Không tìm thấy kho hàng"}),(0,b.jsx)(f.Button,{onClick:()=>w.push("/dashboard/warehouses"),children:"Quay lại danh sách"})]})}}];

//# sourceMappingURL=_11e57590._.js.map