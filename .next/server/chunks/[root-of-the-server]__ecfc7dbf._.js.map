{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Mini-Invetory/src/lib/firebase-admin.ts"],"sourcesContent":["import { initializeApp, getApps, cert, type App } from \"firebase-admin/app\";\r\nimport { getAuth, type Auth } from \"firebase-admin/auth\";\r\n\r\nlet app: App | null = null;\r\n\r\nfunction getFirebaseAdmin(): { app: App; auth: Auth } {\r\n  if (!app) {\r\n    const privateKey = process.env.FIREBASE_PRIVATE_KEY?.replace(/\\\\n/g, '\\n');\r\n    \r\n    if (!privateKey || !process.env.FIREBASE_CLIENT_EMAIL || !process.env.FIREBASE_PROJECT_ID) {\r\n      throw new Error(\"Missing Firebase Admin SDK configuration\");\r\n    }\r\n\r\n    if (getApps().length === 0) {\r\n      app = initializeApp({\r\n        credential: cert({\r\n          projectId: process.env.FIREBASE_PROJECT_ID,\r\n          clientEmail: process.env.FIREBASE_CLIENT_EMAIL,\r\n          privateKey: privateKey,\r\n        }),\r\n      });\r\n    } else {\r\n      app = getApps()[0]!;\r\n    }\r\n  }\r\n\r\n  return {\r\n    app: app!,\r\n    auth: getAuth(app!)\r\n  };\r\n}\r\n\r\nexport { getFirebaseAdmin };"],"names":[],"mappings":";;;;AAAA;AACA;;;;;;;;AAEA,IAAI,MAAkB;AAEtB,SAAS;IACP,IAAI,CAAC,KAAK;QACR,MAAM,aAAa,QAAQ,GAAG,CAAC,oBAAoB,EAAE,QAAQ,QAAQ;QAErE,IAAI,CAAC,cAAc,CAAC,QAAQ,GAAG,CAAC,qBAAqB,IAAI,CAAC,QAAQ,GAAG,CAAC,mBAAmB,EAAE;YACzF,MAAM,IAAI,MAAM;QAClB;QAEA,IAAI,IAAA,2JAAO,IAAG,MAAM,KAAK,GAAG;YAC1B,MAAM,IAAA,iKAAa,EAAC;gBAClB,YAAY,IAAA,wJAAI,EAAC;oBACf,WAAW,QAAQ,GAAG,CAAC,mBAAmB;oBAC1C,aAAa,QAAQ,GAAG,CAAC,qBAAqB;oBAC9C,YAAY;gBACd;YACF;QACF,OAAO;YACL,MAAM,IAAA,2JAAO,GAAE,CAAC,EAAE;QACpB;IACF;IAEA,OAAO;QACL,KAAK;QACL,MAAM,IAAA,6JAAO,EAAC;IAChB;AACF","debugId":null}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Mini-Invetory/src/app/api/auth/verify/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\nimport { getFirebaseAdmin } from \"@/lib/firebase-admin\";\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const { idToken } = await request.json();\r\n    \r\n    if (!idToken) {\r\n      return NextResponse.json(\r\n        { error: \"ID token is required\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const { auth } = getFirebaseAdmin();\r\n    const decodedToken = await auth.verifyIdToken(idToken);\r\n    \r\n    // Táº¡o session cookie (optional)\r\n    const expiresIn = 60 * 60 * 24 * 5 * 1000; // 5 days\r\n    const sessionCookie = await auth.createSessionCookie(idToken, { expiresIn });\r\n    \r\n    const response = NextResponse.json({\r\n      success: true,\r\n      user: {\r\n        uid: decodedToken.uid,\r\n        email: decodedToken.email,\r\n        name: decodedToken.name,\r\n        picture: decodedToken.picture\r\n      }\r\n    });\r\n\r\n    // Set session cookie\r\n    response.cookies.set(\"auth-token\", sessionCookie, {\r\n      maxAge: expiresIn,\r\n      httpOnly: true,\r\n      secure: process.env.NODE_ENV === \"production\",\r\n      sameSite: \"lax\",\r\n    });\r\n\r\n    return response;\r\n  } catch (error) {\r\n    console.error(\"Token verification failed:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Invalid token\" },\r\n      { status: 401 }\r\n    );\r\n  }\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;;;;;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEtC,IAAI,CAAC,SAAS;YACZ,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAuB,GAChC;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,qJAAgB;QACjC,MAAM,eAAe,MAAM,KAAK,aAAa,CAAC;QAE9C,gCAAgC;QAChC,MAAM,YAAY,KAAK,KAAK,KAAK,IAAI,MAAM,SAAS;QACpD,MAAM,gBAAgB,MAAM,KAAK,mBAAmB,CAAC,SAAS;YAAE;QAAU;QAE1E,MAAM,WAAW,gJAAY,CAAC,IAAI,CAAC;YACjC,SAAS;YACT,MAAM;gBACJ,KAAK,aAAa,GAAG;gBACrB,OAAO,aAAa,KAAK;gBACzB,MAAM,aAAa,IAAI;gBACvB,SAAS,aAAa,OAAO;YAC/B;QACF;QAEA,qBAAqB;QACrB,SAAS,OAAO,CAAC,GAAG,CAAC,cAAc,eAAe;YAChD,QAAQ;YACR,UAAU;YACV,QAAQ,oDAAyB;YACjC,UAAU;QACZ;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAgB,GACzB;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}